<html>
<head>
  <title></title>
  <style>
    body {
      margin: 0;
      padding: 0;
      height: 100%;
    }

    img {
      float: left;
      margin: 2px;
      -webkit-transform-style: preserve-3d;
      -webkit-perspective: 500px;
    }
  </style>
</head>
<body>
  <div style="overflow: hidden; height: 100%">
    <div style="width: 110%">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
      <img src="faces.jpg">
    </div>
  </div>
  <script>
    window.wsurl = "ws://ec2-54-234-201-143.compute-1.amazonaws.com/";
    window.wsCtor = window['MozWebSocket'] ? MozWebSocket : WebSocket;

    function onePhoneEvents(on_message, on_close) {
      this.socket = new wsCtor(wsurl, 'onephoneConsumer');
      this.socket.onmessage = function(message) {
        var data = JSON.parse(message.data);
        on_message(data);
      };
      if (on_close != null)
        this.socket.onclose = on_close;
    }

    onePhoneEvents(rotateImages);

    function rotateImages(phoneInfo) {
      var imgs = document.querySelectorAll('img');
      console.log(phoneInfo.tiltFB);
      rotateY = phoneInfo.tiltLR.toFixed()
      rotateX = phoneInfo.tiltFB.toFixed() - 90;

      console.log(rotateX);

      for (var i = 0; i < imgs.length; i++) {
        imgs[i].style.webkitTransform = "rotateY(" + rotateY + "deg) rotateX(" + rotateX + "deg)";
      }
    }
  </script>
</body>
</html>